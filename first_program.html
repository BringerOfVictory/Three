<!DOCTYPE html>

<html>

<head>
<title>Three.js Funsies</title>
<script
src="./three.min.js"></script>
<style>
body{
/* set margin to 0 and overflow to hidden, 
to use the complete page */

margin: 0;
overflow: hidden;
}
</style>
</head>
<body>


<!-- Javascript code that runs our Three.js examples -->
<script type="text/javascript">
	var t3 = THREE;

	var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 500);
    camera.position.set(50, -50, 50);
    camera.lookAt(new THREE.Vector3(0, 0, 0));
    var scene = new THREE.Scene();
    renderer.setClearColor(0xffffff, 1);
	
	var light = new THREE.PointLight( 0xffffff, 1, 400 );
	light.position.set( 10, 10, 80 );
	scene.add( light );

	make_axes(scene, 10, -10, -10, 0);
	make_sphere(scene, 5, -10, -10, 0);

	scene.add(make_curve())

	make_axes(scene, 10, 10, 10, 0);
	make_sphere(scene, 5, 10, 10, 0);

	function make_curve() {
		var curve = new THREE.QuadraticBezierCurve(
		new THREE.Vector3(-10, -10, 0),
		new THREE.Vector3(0, 0, 50),
		new THREE.Vector3(10, 10, 0)
		);

		var path = new THREE.Path( curve.getPoints( 50 ) );

		var geometry = path.createPointsGeometry( 50 );
		var material = new THREE.LineBasicMaterial( { color : 0xff0000 } );

		//Create the final Object3d to add to the scene
		// var curveObject = new THREE.Line( geometry, material );
		return new THREE.Line(geometry, material);
	}

	function make_sphere(s, r, x0, y0, z0) {
		var s_geometry = new THREE.SphereGeometry( 5, 32, 32 );
		var s_material = new THREE.MeshLambertMaterial( {color: 0xcc66ff} );
		var sphere = new THREE.Mesh( s_geometry, s_material );
		sphere.position.set(x0, y0, z0);
		s.add( sphere );
	}
    // renderer.render(scene, camera);
    function make_axes(s, r, x0, y0, z0) {
    	var g = new THREE.Geometry();

    	var material = new THREE.LineBasicMaterial({
	        color: 0x0000ff
	    });

	    var line = new THREE.Line(g, material);

    	add_spoke(g, x0 + r, y0, z0, x0, y0, z0);
	    add_spoke(g, x0 - r, y0, z0, x0, y0, z0);
	    add_spoke(g, x0, y0 + r, z0, x0, y0, z0);
	    add_spoke(g, x0, y0 - r, z0, x0, y0, z0);
	    add_spoke(g, x0, y0, z0 + r, x0, y0, z0);
	    add_spoke(g, x0, y0, z0 - r, x0, y0, z0);

	    s.add(line);
    }

    function add_spoke(geometry, x, y, z, x0, y0, z0) {
		geometry.vertices.push(new THREE.Vector3(x, y, z));
		geometry.vertices.push(new THREE.Vector3(x0, y0, z0));
	}

	var theta = 0;
	var render = function () {
		requestAnimationFrame( render );

		theta += 0.05;
		// camera.position.x = 2 * 10 * Math.cos(theta);
		// camera.position.y = 2 * 10 * Math.sin(theta);

		// camera.lookAt(new THREE.Vector3(0, 0, 0));

		renderer.render(scene, camera);
	};

	render();
	// var theta = 0;
	// return function () {
	// 	theta += 0.1;
	// 	camera.position.x = 2 * r * Math.cos(theta);
	// 	camera.position.y = 2 * r * Math.sin(theta); 
	// }




	// var light = new t3.PointLight();
	// light.position.set(2, 1, 1);
	// scene.add(light);

	// var makeCube = function (x, y, z) {
	// 	var cube = new t3.Mesh(
	// 		new t3.BoxGeometry(1, 1.1, 1),
	// 		new t3.MeshLambertMaterial(
	// 			{color: 'red'})
	// 	);
	// 	cube.position.set(0, 0, 0).add(
	// 	new t3.Vector3(x, y, z));
	// 	scene.add(cube);
	// 	return cube;
	// };

	// var cubes = []
	// for (var i = 0; i < 3; i ++) {
	// 	cubes[i] = makeCube(0, 1 + 1.2 * i, 3);
	// }
	// var k = 0;
	// return function () {
	// 	k += -0.02;
	// 	for (var i = 0; i < cubes.length; i++) {
	// 		cubes[i].rotation.y = k;
	// 		cubes[i].position.z += 0.05
	// 	}
	// };

</script>
</body>
</html>